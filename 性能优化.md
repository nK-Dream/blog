# 前端性能优化

## 1、减少请求数量  

+ 合理规划利用请求，合理利用缓存技术减少不必要的频繁请求。及时性不高的数据可以缓存起来利用。

例如一些基础数据。应用懒加载技术，按需加载，缩短首屏或页面首次加载发起的请求数量，缩短等待和渲染时间。

## 2、缩短请求时间

+ 打包压缩文件，压缩 JS 和 CSS 文件，减少文件体积，缩短加载时间。

## 3、优化资源加载方式

+ Script 加载，考虑异步请求资源，合理利用 Script 的加载方式，Script 脚本的执行只在默认的情况下是同步和阻塞的。

Script 有 defer 和 async 属性（延迟和异步），可以改变脚本的执行方式。  

+ CSS 加载，合理规划 CSS 的加载引入方式，减少 @import 的使用。

页面被加载时，link 会同时被加载，而 @import 引用的 CSS 会等到页面被加载完成再加载。CSS 尽量放在 head 中会先加载，减少首次渲染时间

+ 一些用户操作行为用到的资源，可不在初始化时加载，合理延迟或有需求才请求。

## 4、减少重排（reflow）和重绘（repaint）

+ 减少不必要的 DOM 深度。

例如，不必要的嵌套结构。在 DOM 树中的一个级别进行更改可能会导致该树的所有级别（上至根节点，下至所修改的节点的子级）都随之变化。这会导致花费更多的时间来执行重排。

+ 尽可能减少 CSS 规则的数量，并删除未使用到的 CSS 规则。

一些默认就有的 CSS 规则，就不必写了，具有继承性的样式，也不必每级节点都写。calc() 之类的计算方法应该少用。

+ 如果进行复杂的渲染更改（例如动画），可以使用 position-absolute 或 position-fixed 脱离文档流来实现。

+ 避免使用不必要且复杂的 CSS 选择器（尤其是后代选择器）。

此类选择器需要耗用更多的 CPU 处理能力来执行选择器匹配。不管是 CSS 还是 DOM 都需要避免不必要的深度，因为这对人和机器阅读理解起来“费力”。

+ 合理使用 虚拟列表 降低消耗。

## 5、函数节流（throttle）和 函数防抖（debounce）

+ 使用节流和防抖限制某些不必要的行为频繁触发。

## 6、其他

+ 使用性能更好的 api，优化网络连接等。
